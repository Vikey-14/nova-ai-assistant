# ЁЯУШ normalizer.py тАФ Hinglish тЖТ Hindi (Devanagari) Normalizer

import re


# Base Hinglish тЖТ Hindi map (general + math/UX), digits kept ASCII
hinglish_map = {
    # ЁЯМжя╕П Weather & Time
    "mausam": "рдореМрд╕рдо",
    "taapmaan": "рддрд╛рдкрдорд╛рди",
    "taapman": "рддрд╛рдкрдорд╛рди",
    "aaj": "рдЖрдЬ",
    "kal": "рдХрд▓",
    "din": "рджрд┐рди",
    "day": "рджрд┐рди",
    "samay": "рд╕рдордп",
    "ghanta": "рдШрдВрдЯрд╛",
    "minute": "рдорд┐рдирдЯ",
    "baje": "рдмрдЬреЗ",
    "abhi": "рдЕрднреА",
    "subah": "рд╕реБрдмрд╣",
    "shaam": "рд╢рд╛рдо",
    "raat": "рд░рд╛рдд",
    "month": "рдорд╣реАрдирд╛",
    "mahina": "рдорд╣реАрдирд╛",
    "saal": "рд╕рд╛рд▓",
    "varsh": "рд╡рд░реНрд╖",
    "salana": "рд╕рд╛рд▓рд╛рдирд╛",
    "hafte": "рд╣рдлреНрддреЗ",
    "hafta": "рд╣рдлреНрддрд╛",
    "mahine": "рдорд╣реАрдиреЛрдВ",

    # ЁЯФв Numbers тАФ word forms only (digits left ASCII for STEM safety)
    "ek": "рдПрдХ",
    "do": "рджреЛ",
    "teen": "рддреАрди",
    "chaar": "рдЪрд╛рд░",
    "paanch": "рдкрд╛рдБрдЪ",
    "chhah": "рдЫрд╣",
    "saat": "рд╕рд╛рдд",
    "aath": "рдЖрда",
    "nau": "рдиреМ",
    "das": "рджрд╕",
    "gyaarah": "рдЧреНрдпрд╛рд░рд╣",
    "baarah": "рдмрд╛рд░рд╣",
    "terah": "рддреЗрд░рд╣",
    "chaudah": "рдЪреМрджрд╣",
    "pandrah": "рдкрдВрджреНрд░рд╣",
    "solah": "рд╕реЛрд▓рд╣",
    "satrah": "рд╕рддреНрд░рд╣",
    "atharah": "рдЕрдард╛рд░рд╣",
    "unnees": "рдЙрдиреНрдиреАрд╕",
    "bees": "рдмреАрд╕",
    "ikkees": "рдЗрдХреНрдХреАрд╕",
    "baees": "рдмрд╛рдИрд╕",
    "teees": "рддреЗрдИрд╕",
    "chaubees": "рдЪреМрдмреАрд╕",
    "pachchees": "рдкрдЪреНрдЪреАрд╕",
    "chhabbees": "рдЫрдмреНрдмреАрд╕",
    "sattais": "рд╕рддреНрддрд╛рдИрд╕",
    "atthais": "рдЕрдЯреНрдард╛рдИрд╕",
    "untees": "рдЙрдирддреАрд╕",
    "tees": "рддреАрд╕",
    "iktees": "рдЗрдХрддреАрд╕",
    "chalees": "рдЪрд╛рд▓реАрд╕",
    "pachaas": "рдкрдЪрд╛рд╕",
    "saath": "рд╕рд╛рда",
    "sattar": "рд╕рддреНрддрд░",
    "assi": "рдЕрд╕реНрд╕реА",
    "nabbe": "рдирдмреНрдмреЗ",
    "sau": "рд╕реМ",
    "hajaar": "рд╣рдЬрд╝рд╛рд░",
    "do hajaar": "рджреЛ рд╣рдЬрд╝рд╛рд░",

    # ЁЯУЕ Days
    "somvar": "рд╕реЛрдорд╡рд╛рд░",
    "mangalvar": "рдордВрдЧрд▓рд╡рд╛рд░",
    "budhvar": "рдмреБрдзрд╡рд╛рд░",
    "guruvar": "рдЧреБрд░реБрд╡рд╛рд░",
    "shukravar": "рд╢реБрдХреНрд░рд╡рд╛рд░",
    "shanivar": "рд╢рдирд┐рд╡рд╛рд░",
    "ravivar": "рд░рд╡рд┐рд╡рд╛рд░",

    # ЁЯТм Questions & Grammar
    "kya": "рдХреНрдпрд╛",
    "hai": "рд╣реИ",
    "kaisa": "рдХреИрд╕рд╛",
    "kaisi": "рдХреИрд╕реА",
    "kaun": "рдХреМрди",
    "kab": "рдХрдм",
    "kahan": "рдХрд╣рд╛рдБ",
    "kaise": "рдХреИрд╕реЗ",
    "kyun": "рдХреНрдпреЛрдВ",
    "ka": "рдХрд╛",
    "ki": "рдХреА",
    "ke": "рдХреЗ",

    # ЁЯУЦ Wiki Queries
    "kaun hai": "рдХреНрдпрд╛ рд╣реИ",
    "kya hai": "рдХреНрдпрд╛ рд╣реИ",
    "hai kya": "рдХреНрдпрд╛ рд╣реИ",
    "kya aap jante hain": "рдХреНрдпрд╛ рд╣реИ",
    "search": "рдЦреЛрдЬреЛ",
    "search karo": "рдЦреЛрдЬреЛ",
    "khojo": "рдЦреЛрдЬреЛ",
    "dikhaiye": "рджрд┐рдЦрд╛рдЗрдП",
    "batao": "рдмрддрд╛рдУ",
    "bataiye": "рдмрддрд╛рдЗрдП",
    "ke baare mein": "рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ",
    "ke bare mein": "рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ",
    "ka gyaan do": "рдЬрд╛рдирдХрд╛рд░реА рджреЛ",
    "ka introduction": "рдкрд░рд┐рдЪрдп рджреЛ",

    # ЁЯУ░ News
    "news": "рд╕рдорд╛рдЪрд╛рд░",
    "khabar": "рдЦрдмрд░",
    "headlines": "рдореБрдЦреНрдп рдЦрдмрд░реЗрдВ",

    # ЁЯУД Notes & Memory
    "yaad": "рдпрд╛рдж",
    "note": "рдиреЛрдЯ",
    "likho": "рд▓рд┐рдЦреЛ",
    "padho": "рдкрдврд╝реЛ",
    "padhna": "рдкрдврд╝рдирд╛",
    "dikhao": "рджрд┐рдЦрд╛рдУ",
    "dikhaye": "рджрд┐рдЦрд╛рдПрдБ",
    "saare": "рд╕рд╛рд░реЗ",
    "purane": "рдкреБрд░рд╛рдиреЗ",
    "sabhi": "рд╕рднреА",
    "update": "рдЕрдкрдбреЗрдЯ",
    "delete": "рдбрд┐рд▓реАрдЯ",
    "hatado": "рд╣рдЯрд╛ рджреЛ",
    "badlo": "рдмрджрд▓реЛ",
    "yaad rakh": "рдпрд╛рдж рд░рдЦреЛ",
    "bhool jao": "рднреВрд▓ рдЬрд╛рдУ",
    "yaad dilao": "рдпрд╛рдж рджрд┐рд▓рд╛рдУ",

    # ЁЯФЙ System Controls
    "brightness": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕",
    "brightness ko": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕ рдХреЛ",
    "light": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕",
    "light ko": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕ рдХреЛ",
    "roshni": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕",
    "roshni ko": "рдмреНрд░рд╛рдЗрдЯрдиреЗрд╕ рдХреЛ",

    "volume": "рд╡реЙрд▓реНрдпреВрдо",
    "volume ko": "рд╡реЙрд▓реНрдпреВрдо рдХреЛ",
    "awaaz": "рд╡реЙрд▓реНрдпреВрдо",
    "awaaz ko": "рд╡реЙрд▓реНрдпреВрдо рдХреЛ",
    "awaz": "рд╡реЙрд▓реНрдпреВрдо",
    "awaz ko": "рд╡реЙрд▓реНрдпреВрдо рдХреЛ",

    "kam": "рдХрдо",
    "zyada": "рдЬрд╝реНрдпрд╛рджрд╛",
    "badhao": "рдмрдврд╝рд╛рдУ",
    "ghatao": "рдШрдЯрд╛рдУ",
    "band": "рдмрдВрдж",
    "band karo": "рдмрдВрдж рдХрд░реЛ",
    "chalu": "рдЪрд╛рд▓реВ",
    "restart": "рдкреБрдирдГрдЪрд╛рд▓реВ",
    "shutdown": "рдмрдВрдж рдХрд░реЛ",

    # ЁЯФФ Alarms & Reminders
    "alarm": "рдЕрд▓рд╛рд░реНрдо",
    "set": "рд╕реЗрдЯ",
    "reminder": "рд░рд┐рдорд╛рдЗрдВрдбрд░",
    "samay pe": "рд╕рдордп рдкреЗ",
    "alarm lagaao": "рдЕрд▓рд╛рд░реНрдо рд▓рдЧрд╛рдУ",
    "reminder lagaao": "рд░рд┐рдорд╛рдЗрдВрдбрд░ рд▓рдЧрд╛рдУ",

    # ЁЯЧгя╕П Commands & QA
    "suno": "рд╕реБрдиреЛ",
    "sunna": "рд╕реБрдирдирд╛",
    "bolo": "рдмреЛрд▓реЛ",
    "command": "рдХрдорд╛рдВрдб",
    "jawab": "рдЬрд╡рд╛рдм",
    "question": "рдкреНрд░рд╢реНрди",
    "answer": "рдЙрддреНрддрд░",

    # ЁЯЩП Apologies & Errors
    "maaf kijiye": "рдорд╛рдлрд╝ рдХреАрдЬрд┐рдП",
    "maaf karo": "рдорд╛рдлрд╝ рдХрд░реЛ",
    "maafi chahta hoon": "рдорд╛рдлрд╝реА рдЪрд╛рд╣рддрд╛ рд╣реВрдБ",
    "samajh nahi paaya": "рд╕рдордЭ рдирд╣реАрдВ рдкрд╛рдпрд╛",
    "samajh nahi aaya": "рд╕рдордЭ рдирд╣реАрдВ рдЖрдпрд╛",
    "phir se kahiye": "рдлрд┐рд░ рд╕реЗ рдХрд╣рд┐рдП",
    "dobara boliye": "рджреЛрдмрд╛рд░рд╛ рдмреЛрд▓рд┐рдП",
    "repeat karo": "рдлрд┐рд░ рд╕реЗ рдХрд╣рд┐рдП",
    "kya aap dobara kahenge": "рдХреНрдпрд╛ рдЖрдк рджреЛрдмрд╛рд░рд╛ рдХрд╣реЗрдВрдЧреЗ",
    "galat samjha": "рдЧрд▓рдд рд╕рдордЭрд╛",
    "command clear nahi hai": "рдХрдорд╛рдВрдб рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ",

    # ЁЯОЙ Holidays & Festivals
    "tyohar": "рддреНрдпреЛрд╣рд╛рд░",
    "tyohar kab hai": "рддреНрдпреЛрд╣рд╛рд░ рдХрдм рд╣реИ",
    "chutti": "рдЫреБрдЯреНрдЯреА",
    "festival": "рддреНрдпреЛрд╣рд╛рд░",
    "tyohar kab": "рддреНрдпреЛрд╣рд╛рд░ рдХрдм",
    "chhutti": "рдЫреБрдЯреНрдЯреА",
    "festival kab hai": "рддреНрдпреЛрд╣рд╛рд░ рдХрдм рд╣реИ",
    "holiday kab hai": "рдЫреБрдЯреНрдЯреА рдХрдм рд╣реИ",

    # ЁЯОи Colors
    "lal": "рд▓рд╛рд▓",
    "neela": "рдиреАрд▓рд╛",
    "peela": "рдкреАрд▓рд╛",
    "hara": "рд╣рд░рд╛",
    "kaala": "рдХрд╛рд▓рд╛",
    "safed": "рд╕рдлрд╝реЗрдж",
    "gulaabi": "рдЧреБрд▓рд╛рдмреА",
    "bhura": "рднреВрд░рд╛",
    "red": "рд▓рд╛рд▓",
    "blue": "рдиреАрд▓рд╛",
    "yellow": "рдкреАрд▓рд╛",
    "green": "рд╣рд░рд╛",
    "black": "рдХрд╛рд▓рд╛",
    "white": "рд╕рдлрд╝реЗрдж",
    "pink": "рдЧреБрд▓рд╛рдмреА",
    "brown": "рднреВрд░рд╛",

    # тЮХ Math & Symbolic Keywords
    "ganit": "рдЧрдгрд┐рдд",
    "ganitik": "рдЧрдгрд┐рддреАрдп",
    "calculation": "рдЧрдгрдирд╛",
    "ganana": "рдЧрдгрдирд╛",
    "solve karo": "рд╣рд▓ рдХрд░реЛ",
    "hal karo": "рд╣рд▓ рдХрд░реЛ",
    "solution do": "рд╣рд▓ рджреЛ",
    "ank": "рдЕрдВрдХ",
    "samasya": "рд╕рдорд╕реНрдпрд╛",
    "samasya ka hal": "рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╣рд▓",
    "samaikaran": "рд╕рдореАрдХрд░рдг",
    "equation": "рд╕рдореАрдХрд░рдг",
    "samikaran": "рд╕рдореАрдХрд░рдг",
    "paribhashit": "рдкрд░рд┐рднрд╛рд╖рд┐рдд",
    "pratyek": "рдкреНрд░рддреНрдпреЗрдХ",
    "samasya ko": "рд╕рдорд╕реНрдпрд╛ рдХреЛ",

    # ЁЯФБ Matrix Operations
    "matrix": "рдореИрдЯреНрд░рд┐рдХреНрд╕",
    "matrix inverse": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЗрдирд╡рд░реНрд╕",
    "matrix ka transpose": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЯреНрд░рд╛рдВрд╕рдкреЛрдЬрд╝",
    "transpose of matrix": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЯреНрд░рд╛рдВрд╕рдкреЛрдЬрд╝",
    "matrix transpose": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЯреНрд░рд╛рдВрд╕рдкреЛрдЬрд╝",
    "matrix determinant": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдбрд┐рдЯрд░рдорд┐рдиреЗрдВрдЯ",
    "determinant of matrix": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдбрд┐рдЯрд░рдорд┐рдиреЗрдВрдЯ",
    "matrix ka gunan": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЧреБрдгрди",
    "matrix ko guna karo": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЧреБрдгрди рдХрд░реЛ",
    "matrix multiplication": "рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЧреБрдгрди",
    "cofactor": "рдХреЛрдлреИрдХреНрдЯрд░",
    "adjugate": "рдПрдбрдЬреБрдЧреЗрдЯ",
    "inverse": "рдЗрдирд╡рд░реНрд╕",
    "transpose": "рдЯреНрд░рд╛рдВрд╕рдкреЛрдЬрд╝",

    # ЁЯУК Plotting Related
    "plot": "рдЧреНрд░рд╛рдлрд╝",
    "graph": "рдЧреНрд░рд╛рдлрд╝",
    "draw": "рдЪрд┐рддреНрд░рд┐рдд",
    "rekha banaiye": "рд░реЗрдЦрд╛ рдмрдирд╛рдИрдП",
    "chitr banao": "рдЪрд┐рддреНрд░ рдмрдирд╛рдУ",
    "y barabar": "y =",
    "x ke saman": "x =",
    "ankon ka plot": "рдЕрдВрдХреЛрдВ рдХрд╛ рдЧреНрд░рд╛рдлрд╝",
    "data ka graph": "рдбреЗрдЯрд╛ рдХрд╛ рдЧреНрд░рд╛рдлрд╝",

    # ЁЯФв Functions
    "gunan": "рдЧреБрдгрди",
    "bhag": "рднрд╛рдЧ",
    "jod": "рдЬреЛрдбрд╝",
    "ghatao": "рдШрдЯрд╛рдУ",
    "antar karo": "рдШрдЯрд╛рдУ",
    "jod do": "рдЬреЛрдбрд╝ рджреЛ",
    "divide karo": "рднрд╛рдЧ рдХрд░реЛ",
    "multiply karo": "рдЧреБрдгрд╛ рдХрд░реЛ",
    "integrate karo": "рдЗрдВрдЯреАрдЧреНрд░реЗрдЯ рдХрд░реЛ",
    "integral": "рдЗрдВрдЯреАрдЧреНрд░рд▓",
    "derivative": "рд╡реНрдпреБрддреНрдкрдиреНрди",
    "differentiate": "рд╡реНрдпреБрддреНрдкрдиреНрди рдирд┐рдХрд╛рд▓реЛ",
    "nikalo": "рдирд┐рдХрд╛рд▓реЛ"
}


# ЁЯз▓ Physics (Hinglish тЖТ Hindi) тАФ extended with common romanized spellings

PHYSICS_HINGLISH_MAP = {
    # тАФ Mode / intent тАФ
    "physics mode": "рдлрд┐рдЬрд┐рдХреНрд╕ рдореЛрдб",
    "solve physics": "рднреМрддрд┐рдХреА рд╕рд╡рд╛рд▓",
    "physics problem": "рднреМрддрд┐рдХреА рдкреНрд░рд╢реНрди",
    "use physics": "рднреМрддрд┐рдХреА",
    "bhoutiki": "рднреМрддрд┐рдХреА",
    "fiziks": "рдлрд┐рдЬрд┐рдХреНрд╕",

    # тАФ Kinematics / projectile тАФ
    "projectile": "╨┐╤АрдХреНрд╖реЗрдкреНрдп",
    "projectile motion": "рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдЧрддрд┐",
    "time of flight": "рдЙрдбрд╝рд╛рди рдХрд╛ рд╕рдордп",
    "maximum height": "рдЕрдзрд┐рдХрддрдо рдКрдБрдЪрд╛рдИ",
    "max height": "рдЕрдзрд┐рдХрддрдо рдКрдБрдЪрд╛рдИ",
    "projectile range": "рдкрд░рд╛рд╕",
    "range of projectile": "рдкрд░рд╛рд╕",
    "initial velocity": "рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╡реЗрдЧ",
    "final velocity": "рдЕрдВрддрд┐рдо рд╡реЗрдЧ",
    "displacement": "рд╡рд┐рд╕реНрдерд╛рдкрди",
    "acceleration": "рддреНрд╡рд░рдг",

    # тАФ Rotation / circular тАФ
    "angular velocity": "рдХреЛрдгреАрдп рд╡реЗрдЧ",
    "angular acceleration": "рдХреЛрдгреАрдп рддреНрд╡рд░рдг",
    "torque": "рдЖрдШреВрд░реНрдг",
    "moment of inertia": "рдЬрдбрд╝рддреНрд╡ рдЖрдШреВрд░реНрдг",

    # тАФ SHM тАФ
    "simple harmonic motion": "рд╕рд░рд▓ рдЖрд╡рд░реНрдд рдЧрддрд┐",
    "spring constant": "рд╕реНрдкреНрд░рд┐рдВрдЧ рд╕реНрдерд┐рд░рд╛рдВрдХ",

    # тАФ Optics / waves тАФ
    "refraction": "рдЕрдкрд╡рд░реНрддрди",
    "reflection": "рдкрд░рд╛рд╡рд░реНрддрди",
    "dispersion": "рд╡рд┐рдХреНрд╖реЗрдкрдг",
    "total internal reflection": "рдкреВрд░реНрдг рдЖрдВрддрд░рд┐рдХ рдкрд░рд╛рд╡рд░реНрддрди",
    "critical angle": "рдХреНрд░рд╛рдВрддрд┐рдХ рдХреЛрдг",
    "wavelength": "рддрд░рдВрдЧрджреИрд░реНрдзреНрдп",
    "frequency": "рдЖрд╡реГрддреНрддрд┐",
    "rayleigh scattering": "рд░реЗрд▓реА рдкреНрд░рдХреАрд░реНрдгрди",

    # тАФ Electricity & magnetism тАФ
    "ohms law": "рдУрдо рдХрд╛ рдирд┐рдпрдо",
    "ohm law": "рдУрдо рдХрд╛ рдирд┐рдпрдо",
    "ohm's law": "рдУрдо рдХрд╛ рдирд┐рдпрдо",
    "newtons second law": "рдиреНрдпреВрдЯрди рдХрд╛ рджреВрд╕рд░рд╛ рдирд┐рдпрдо",
    "newton second law": "рдиреНрдпреВрдЯрди рдХрд╛ рджреВрд╕рд░рд╛ рдирд┐рдпрдо",
    "newton's second law": "рдиреНрдпреВрдЯрди рдХрд╛ рджреВрд╕рд░рд╛ рдирд┐рдпрдо",
    "magnetic field": "рдЪреБрдВрдмрдХреАрдп рдХреНрд╖реЗрддреНрд░",
    "magnetic flux": "рдЪреБрдВрдмрдХреАрдп рдлреНрд▓рдХреНрд╕",
    "capacitance": "рдзрд╛рд░рд┐рддрд╛",
    "inductance": "рдЗрдВрдбрдХреНрдЯреЗрдВрд╕",
    "impedance": "рдЗрдореНрдкреАрдбреЗрдВрд╕",

    # тАФ Fluids тАФ
    "density": "рдШрдирддреНрд╡",
    "viscosity": "рд╢реНрдпрд╛рдирддрд╛",
    "buoyant force": "рдЙрддреНрдкреНрд▓рд╛рд╡рди рдмрд▓",

    # тАФ Gravitation / constants тАФ
    "escape velocity": "рдкрд▓рд╛рдпрди рд╡реЗрдЧ",
    "gravitational field": "рдЧреБрд░реБрддреНрд╡рд╛рдХрд░реНрд╖рдг рдХреНрд╖реЗрддреНрд░",
    "acceleration due to gravity": "рдЧреБрд░реБрддреНрд╡рдЬрдирд┐рдд рддреНрд╡рд░рдг",
    "speed of light": "рдкреНрд░рдХрд╛рд╢ рдХрд╛ рд╡реЗрдЧ",
    "value of g": "g рдХрд╛ рдорд╛рди",

    # тАФ Proportionality / scaling phrases (for quick-facts) тАФ
    "proportional to": "рдЕрдиреБрдкрд╛рддреА",
    "inversely proportional": "рд╡реНрдпреБрддреНрдХреНрд░рдорд╛рдиреБрдкрд╛рддреА",
    "depends on": "рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ",
    "what happens to": "рдХреНрдпрд╛ рд╣реЛрдЧрд╛",
    "double": "рджреЛрдЧреБрдирд╛",
    "doubles": "рджреЛрдЧреБрдирд╛",
    "triple": "рддреАрди рдЧреБрдирд╛",
    "triples": "рддреАрди рдЧреБрдирд╛",
    "quadruple": "рдЪрд╛рд░ рдЧреБрдирд╛",
    "quadruples": "рдЪрд╛рд░ рдЧреБрдирд╛",
    "half": "рдЖрдзрд╛",
    "halved": "рдЖрдзрд╛",
    "increased by": "рдмрдврд╝рд╛рдХрд░",
    "decreased by": "рдШрдЯрд╛рдХрд░",
    "reduced to": "рдШрдЯрд╛рдХрд░",
    "percent": "рдкреНрд░рддрд┐рд╢рдд",
    "times": "рдЧреБрдирд╛",
    "fold": "рдЧреБрдирд╛",
}

# ЁЯз▓ Physics тАФ romanized Hindi тЖТ Hindi (ultra-common colloquial spellings)
PHYSICS_ROMAN_HI_MAP = {
    # Optics / waves
    "apavartan": "рдЕрдкрд╡рд░реНрддрди",
    "paravartan": "рдкрд░рд╛рд╡рд░реНрддрди",
    "vikshepan": "рд╡рд┐рдХреНрд╖реЗрдкрдг",
    "rayleigh prakeernan": "рд░реЗрд▓реА рдкреНрд░рдХреАрд░реНрдгрди",
    "religh prakeernan": "рд░реЗрд▓реА рдкреНрд░рдХреАрд░реНрдгрди",
    "reli prakeernan": "рд░реЗрд▓реА рдкреНрд░рдХреАрд░реНрдгрди",
    "poorn aantarik paravartan": "рдкреВрд░реНрдг рдЖрдВрддрд░рд┐рдХ рдкрд░рд╛рд╡рд░реНрддрди",
    "poorn antarik paravartan": "рдкреВрд░реНрдг рдЖрдВрддрд░рд┐рдХ рдкрд░рд╛рд╡рд░реНрддрди",
    "purn antarik paravartan": "рдкреВрд░реНрдг рдЖрдВрддрд░рд┐рдХ рдкрд░рд╛рд╡рд░реНрддрди",
    "kritik kon": "рдХреНрд░рд╛рдВрддрд┐рдХ рдХреЛрдг",
    "krantik kon": "рдХреНрд░рд╛рдВрддрд┐рдХ рдХреЛрдг",
    "tarangdairghya": "рддрд░рдВрдЧрджреИрд░реНрдзреНрдп",
    "tarang dairghya": "рддрд░рдВрдЧрджреИрд░реНрдзреНрдп",
    "tarang lambai": "рддрд░рдВрдЧрджреИрд░реНрдзреНрдп",
    "avriti": "рдЖрд╡реГрддреНрддрд┐",
    "aavriti": "рдЖрд╡реГрддреНрддрд┐",
    "avrtti": "рдЖрд╡реГрддреНрддрд┐",

    # Rotation / mechanics
    "koniya veg": "рдХреЛрдгреАрдп рд╡реЗрдЧ",
    "koneey veg": "рдХреЛрдгреАрдп рд╡реЗрдЧ",
    "koniya tvaran": "рдХреЛрдгреАрдп рддреНрд╡рд░рдг",
    "jadatva aghurn": "рдЬрдбрд╝рддреНрд╡ рдЖрдШреВрд░реНрдг",
    "aghurn": "рдЖрдШреВрд░реНрдг",

    # Fluids
    "ghanatva": "рдШрдирддреНрд╡",
    "ghantva": "рдШрдирддреНрд╡",
    "shyanata": "рд╢реНрдпрд╛рдирддрд╛",
    "sayanata": "рд╢реНрдпрд╛рдирддрд╛",
    "utplavan bal": "рдЙрддреНрдкреНрд▓рд╛рд╡рди рдмрд▓",
    "utplavan": "рдЙрддреНрдкреНрд▓рд╛рд╡рди",

    # Circuits / EM
    "ohm ka niyam": "рдУрдо рдХрд╛ рдирд┐рдпрдо",
    "om ka niyam": "рдУрдо рдХрд╛ рдирд┐рдпрдо",
    "chumbakiya kshetra": "рдЪреБрдВрдмрдХреАрдп рдХреНрд╖реЗрддреНрд░",
    "chumbakiy kshetra": "рдЪреБрдВрдмрдХреАрдп рдХреНрд╖реЗрддреНрд░",
    "chumbakiya flux": "рдЪреБрдВрдмрдХреАрдп рдлреНрд▓рдХреНрд╕",
    "dharita": "рдзрд╛рд░рд┐рддрд╛",
    "pratibadha": "рдкреНрд░рддрд┐рдмрд╛рдзрд╛",
    "pratirodh": "рдкреНрд░рддрд┐рд░реЛрдз",
    "preritata": "рдЗрдВрдбрдХреНрдЯреЗрдВрд╕",

    # Gravitation / constants
    "gurutvakarshan": "рдЧреБрд░реБрддреНрд╡рд╛рдХрд░реНрд╖рдг",
    "gurutva kshetra": "рдЧреБрд░реБрддреНрд╡рд╛рдХрд░реНрд╖рдг рдХреНрд╖реЗрддреНрд░",
    "palayan veg": "рдкрд▓рд╛рдпрди рд╡реЗрдЧ",
    "prakash ka veg": "рдкреНрд░рдХрд╛рд╢ рдХрд╛ рд╡реЗрдЧ",
    "roshni ki raftaar": "рдкреНрд░рдХрд╛рд╢ рдХрд╛ рд╡реЗрдЧ",
    "newton ka dusra niyam": "рдиреНрдпреВрдЯрди рдХрд╛ рджреВрд╕рд░рд╛ рдирд┐рдпрдо",

    # SHM
    "saral aavart gati": "рд╕рд░рд▓ рдЖрд╡рд░реНрдд рдЧрддрд┐",
    "spring sthirank": "рд╕реНрдкреНрд░рд┐рдВрдЧ рд╕реНрдерд┐рд░рд╛рдВрдХ",
}


# ЁЯзк Chemistry (Hinglish тЖТ Hindi) тАФ safe for parsers (no unit/formula rewrites)
CHEM_HINGLISH_MAP = {
    # Core intents / tasks
    "molar mass": "рдореЛрд▓рд░ рджреНрд░рд╡реНрдпрдорд╛рди",
    "molar mass nikaal": "рдореЛрд▓рд░ рджреНрд░рд╡реНрдпрдорд╛рди рдирд┐рдХрд╛рд▓",
    "molar mass nikalo": "рдореЛрд▓рд░ рджреНрд░рд╡реНрдпрдорд╛рди рдирд┐рдХрд╛рд▓реЛ",
    "percent composition": "рдкреНрд░рддрд┐рд╢рдд рд╕рдВрд░рдЪрдирд╛",
    "percentage composition": "рдкреНрд░рддрд┐рд╢рдд рд╕рдВрд░рдЪрдирд╛",
    "composition": "рд╕рдВрд░рдЪрдирд╛",
    "empirical formula": "рдЕрдиреБрднрд╡рдЬрдиреНрдп рд╕реВрддреНрд░",
    "molecular formula": "рдЖрдгрд╡рд┐рдХ рд╕реВрддреНрд░",
    "limiting reagent": "рд╕реАрдорд┐рдд рдЕрднрд┐рдХрд╛рд░рдХ",
    "limiting reactant": "рд╕реАрдорд┐рдд рдЕрднрд┐рдХрд╛рд░рдХ",
    "excess reagent": "рдЕрдзрд┐рд╢реЗрд╖ рдЕрднрд┐рдХрд╛рд░рдХ",
    "stoichiometry": "рд╕реНрдЯреЙрдЗрдХрд┐рдпреЛрдореЗрдЯреНрд░реА",
    "stoich": "рд╕реНрдЯреЙрдЗрдХрд┐рдпреЛрдореЗрдЯреНрд░реА",
    "molarity": "рдореЛрд▓рд░рддрд╛",
    "molality": "рдореЛрд▓рд▓рддрд╛",
    "normality": "рдиреЙрд░реНрдореИрд▓рд┐рдЯреА",
    "dilution": "рджреБрд░реНрдмрд▓реАрдХрд░рдг",
    "concentration": "рд╕рд╛рдВрджреНрд░рддрд╛",
    "solution": "рд╡рд┐рд▓рдпрди",
    "solute": "рд╡рд┐рд▓реЗрдп",
    "solvent": "рд╡рд┐рд▓реЗрдпрдХ",
    "mixture": "рдорд┐рд╢реНрд░рдг",
    "mixing": "рдорд┐рд▓рд╛рдирд╛",

    # AcidтАУbase & pH
    "acid": "рдЕрдореНрд▓",
    "base": "рдХреНрд╖рд╛рд░",
    "strong acid": "рдкреНрд░рдмрд▓ рдЕрдореНрд▓",
    "weak acid": "рджреБрд░реНрдмрд▓ рдЕрдореНрд▓",
    "strong base": "рдкреНрд░рдмрд▓ рдХреНрд╖рд╛рд░",
    "weak base": "рджреБрд░реНрдмрд▓ рдХреНрд╖рд╛рд░",
    "acidity": "рдЕрдореНрд▓рддрд╛",
    "basicity": "рдХреНрд╖рд╛рд░рддрд╛",
    "buffer": "рдмрдлрд╝рд░",
    "ph kitna hoga": "рдкреАрдПрдЪ рдХрд┐рддрдирд╛ рд╣реЛрдЧрд╛",
    "ph nikal do": "рдкреАрдПрдЪ рдирд┐рдХрд╛рд▓ рджреЛ",
    "poh nikal do": "рдкреАрдУрдПрдЪ рдирд┐рдХрд╛рд▓ рджреЛ",

    # Gas laws (keep formulas/symbols ASCII in user text)
    "gas law": "рдЧреИрд╕ рдирд┐рдпрдо",
    "boyle law": "рдмреЙрдпрд▓ рдХрд╛ рдирд┐рдпрдо",
    "charles law": "рдЪрд╛рд░реНрд▓реНрд╕ рдХрд╛ рдирд┐рдпрдо",
    "gay lussac law": "рдЧреЗ-рд▓реБрд╕реИрдХ рдХрд╛ рдирд┐рдпрдо",
    "gay-lussac law": "рдЧреЗ-рд▓реБрд╕реИрдХ рдХрд╛ рдирд┐рдпрдо",
    "avogadro law": "рдПрд╡реЛрдЧрд╛рджреНрд░реЛ рдХрд╛ рдирд┐рдпрдо",
    "ideal gas": "рдЖрджрд░реНрд╢ рдЧреИрд╕",
    "gas constant": "рдЧреИрд╕ рд╕реНрдерд┐рд░рд╛рдВрдХ",
    "universal gas constant": "рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЧреИрд╕ рд╕реНрдерд┐рд░рд╛рдВрдХ",

    # Physical/periodic properties
    "boiling point": "рдЙрдмрд▓рдиреЗ рдХрд╛ рддрд╛рдкрдорд╛рди",
    "melting point": "рдЧрд▓рдиреЗ рдХрд╛ рддрд╛рдкрдорд╛рди",
    "density": "рдШрдирддреНрд╡",
    "electronegativity": "рд╡рд┐рджреНрдпреБрдд рдЛрдгрд╛рддреНрдордХрддрд╛",
    "ionization energy": "рдЖрдпрдирди рдКрд░реНрдЬрд╛",
    "electron affinity": "рдЗрд▓реЗрдХреНрдЯреНрд░реЙрди рдЖрдХрд░реНрд╖рдг",
    "atomic number": "рдкрд░рдорд╛рдгреБ рд╕рдВрдЦреНрдпрд╛",
    "atomic mass": "рдкрд░рдорд╛рдгреБ рджреНрд░рд╡реНрдпрдорд╛рди",
    "atomic weight": "рдкрд░рдорд╛рдгреБ рднрд╛рд░",
    "electron configuration": "рдЗрд▓реЗрдХреНрдЯреНрд░реЙрди рд╡рд┐рдиреНрдпрд╛рд╕",
    "oxidation state": "рдСрдХреНрд╕реАрдХрд░рдг рдЕрд╡рд╕реНрдерд╛",
    "valency": "рд╕рдВрдпреЛрдЬрдХрддрд╛",
    "valence": "рд╕рдВрдпреЛрдЬрдХрддрд╛",
    "lone pair": "рдПрдХрд╛рдХреА рдпреБрдЧреНрдо",
    "bond order": "рдмрдВрдз рдХреНрд░рдо",

    # Periodic table groups & families
    "alkali metals": "рдХреНрд╖рд╛рд░реАрдп рдзрд╛рддреБрдПрдБ",
    "alkaline earth metals": "рдХреНрд╖рд╛рд░реАрдп рдореГрджрд╛ рдзрд╛рддреБрдПрдБ",
    "halogens": "рд╣реИрд▓реЛрдЬрди",
    "noble gases": "рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЧреИрд╕реЗрдВ",
    "transition metals": "рд╕рдВрдХреНрд░рдордг рдзрд╛рддреБрдПрдБ",
    "metalloids": "рдЙрдкрдзрд╛рддреБ",
    "lanthanides": "рд▓реИрдВрдереЗрдирд╛рдЗрдб",
    "actinides": "рдРрдХреНрдЯрд┐рдирд╛рдЗрдб",
    "period": "рдЖрд╡рд░реНрдд",
    "group": "рд╕рдореВрд╣",

    # Percent & concentration phrases
    "mass percent": "рджреНрд░рд╡реНрдпрдорд╛рди рдкреНрд░рддрд┐рд╢рдд",
    "weight percent": "рднрд╛рд░ рдкреНрд░рддрд┐рд╢рдд",
    "volume percent": "рдЖрдпрддрди рдкреНрд░рддрд┐рд╢рдд",
    "parts per million": "рдкреАрдкреАрдПрдо",
    "ppm": "рдкреАрдкреАрдПрдо",

    # Common user phrasings
    "moles nikaal do": "рдореЛрд▓ рдирд┐рдХрд╛рд▓ рджреЛ",
    "moles nikalo": "рдореЛрд▓ рдирд┐рдХрд╛рд▓реЛ",
    "grams of": "рдЧреНрд░рд╛рдо рдХрд╛",
    "find composition": "рд╕рдВрд░рдЪрдирд╛ рдирд┐рдХрд╛рд▓реЛ",
    "show steps": "рдХрджрдо рджрд┐рдЦрд╛рдУ",
    "more detail": "рдФрд░ рд╡рд┐рд╡рд░рдг",

    # --- Numbers + common units ---
    "ek gram": "1 рдЧреНрд░рд╛рдо",
    "do gram": "2 рдЧреНрд░рд╛рдо",
    "teen gram": "3 рдЧреНрд░рд╛рдо",
    "chaar gram": "4 рдЧреНрд░рд╛рдо",
    "paanch gram": "5 рдЧреНрд░рд╛рдо",
    "che gram": "6 рдЧреНрд░рд╛рдо",
    "chhah gram": "6 рдЧреНрд░рд╛рдо",
    "saat gram": "7 рдЧреНрд░рд╛рдо",
    "aath gram": "8 рдЧреНрд░рд╛рдо",
    "nau gram": "9 рдЧреНрд░рд╛рдо",
    "das gram": "10 рдЧреНрд░рд╛рдо",
    "gyaarah gram": "11 рдЧреНрд░рд╛рдо",
    "baarah gram": "12 рдЧреНрд░рд╛рдо",
    "terah gram": "13 рдЧреНрд░рд╛рдо",
    "chaudah gram": "14 рдЧреНрд░рд╛рдо",
    "pandrah gram": "15 рдЧреНрд░рд╛рдо",
    "solah gram": "16 рдЧреНрд░рд╛рдо",
    "satrah gram": "17 рдЧреНрд░рд╛рдо",
    "atharah gram": "18 рдЧреНрд░рд╛рдо",
    "unnees gram": "19 рдЧреНрд░рд╛рдо",
    "bees gram": "20 рдЧреНрд░рд╛рдо",
    "ikkees gram": "21 рдЧреНрд░рд╛рдо",
    "baees gram": "22 рдЧреНрд░рд╛рдо",
    "teees gram": "23 рдЧреНрд░рд╛рдо",
    "chaubees gram": "24 рдЧреНрд░рд╛рдо",
    "pachees gram": "25 рдЧреНрд░рд╛рдо",
    "chhabbees gram": "26 рдЧреНрд░рд╛рдо",
    "sattaees gram": "27 рдЧреНрд░рд╛рдо",
    "athhaees gram": "28 рдЧреНрд░рд╛рдо",
    "untees gram": "29 рдЧреНрд░рд╛рдо",
    "tees gram": "30 рдЧреНрд░рд╛рдо",
    "chaalees gram": "40 рдЧреНрд░рд╛рдо",
    "chalees gram": "40 рдЧреНрд░рд╛рдо",
    "pachaas gram": "50 рдЧреНрд░рд╛рдо",
    "saath gram": "60 рдЧреНрд░рд╛рдо",
    "sattar gram": "70 рдЧреНрд░рд╛рдо",
    "assi gram": "80 рдЧреНрд░рд╛рдо",
    "nabbe gram": "90 рдЧреНрд░рд╛рдо",
    "sau gram": "100 рдЧреНрд░рд╛рдо",

    # --- Moles ---
    "ek mol": "1 рдореЛрд▓",
    "do mol": "2 рдореЛрд▓",
    "teen mol": "3 рдореЛрд▓",
    "pandrah mol": "15 рдореЛрд▓",
    "unnees mol": "19 рдореЛрд▓",

    # --- Liters ---
    "ek litre": "1 рд▓реАрдЯрд░",
    "do litre": "2 рд▓реАрдЯрд░",
    "teen litre": "3 рд▓реАрдЯрд░",
    "pandrah litre": "15 рд▓реАрдЯрд░",
    "unnees litre": "19 рд▓реАрдЯрд░",

    # --- Milliliters ---
    "ek ml": "1 mL",
    "do ml": "2 mL",
    "teen ml": "3 mL",
    "pandrah ml": "15 mL",
    "unnees ml": "19 mL",

    # --- Millimoles ---
    "ek mmol": "1 mmol",
    "do mmol": "2 mmol",
    "teen mmol": "3 mmol",
    "pandrah mmol": "15 mmol",
    "unnees mmol": "19 mmol"
}

# ЁЯФЧ Merge: physics first (intent/colloquial), then chemistry
hinglish_map.update(PHYSICS_HINGLISH_MAP)
hinglish_map.update(PHYSICS_ROMAN_HI_MAP)
hinglish_map.update(CHEM_HINGLISH_MAP)


# ЁЯФз Precompile patterns (longest keys first)
_PATTERNS = [
    (re.compile(r'\b' + re.escape(k) + r'\b'), v)
    for k, v in sorted(hinglish_map.items(), key=lambda kv: len(kv[0]), reverse=True)
]


def normalize_hinglish(command: str) -> str:
    """Normalize common Hinglish phrases to Hindi (Devanagari).
    - Leaves digits, units, formulas, and symbols untouched.
    - Longest-first replacement avoids partial overshadowing.
    """
    text = command.lower()
    for pat, repl in _PATTERNS:
        text = pat.sub(repl, text)
    return text
